terms:
  - name: "rag"
    kind: "policy"
    scope: "rag"
    version: 1

version: 1
profiles:
  default:
    k: 5
    min_score: 0.20
    weight: { bm25: 0.70, semantic: 0.30 }
    tie_break: semantic
    max_context_chars: 12000
  ambiguous:
    k: 8
    min_score: 0.15
    weight: { bm25: 0.50, semantic: 0.50 }
    tie_break: semantic

entities:
  fiis_noticias:
    # Configuração explícita para RAG de notícias de FIIs.
    # Mantém os mesmos parâmetros do profile default, mas
    # permite especializar no futuro (k, min_score, collections, etc.).
    k: 5
    min_score: 0.20
    collections:
      - fiis_noticias



routing:
  # Utilize apenas nomes de intent canônicos do Planner/ontologia
  # (ex.: fiis_noticias, fiis_precos, fiis_dividendos).
  deny_intents:
    - client_fiis_positions
    - fiis_cadastro
    - fiis_precos
    - fiis_dividendos
    - fiis_rankings
    - fiis_imoveis
    - fiis_processos
    - fiis_financials_snapshot
    - fiis_financials_revenue_schedule
    - fiis_financials_risk
  allow_intents:
    - fiis_noticias
  notes: "RAG restrito a conteúdos textuais (ex.: notícias e dossiês); dados tabulares seguem via rotas SQL."
