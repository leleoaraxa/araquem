version: 1
collection: araquem-core
embedding_model: nomic-embed-text

chunk:
  max_chars: 1200
  overlap_chars: 120

hint_filters:
  # OPCIONAL: para que projections (q-*) também virem hints semânticos.
  allowlist: ["entity-*", "concepts-*", "q-*"]
  denylist: ["golden-*", "ontology-*"]
required_entity_doc: true
weight: 0.25
min_score: 0.20

include:
  # ── Conceitos (documentos de base do produto) ──────────────────────────────
  - id: concepts-catalog
    path: data/concepts/catalog.yaml
    tags: [concepts, catalog, fiis]

  - id: concepts-fiis
    path: data/concepts/fiis.md
    tags: [concepts, fiis]

  - id: indicators-catalog
    path: data/raw/indicators/catalog.md
    tags: [concepts, indicators, risk, performance, fiis]

  # ── Ontologia (fonte de verdade para intents/entities) ─────────────────────
  - id: ontology-entity
    path: data/ontology/entity.yaml
    tags: [ontology, intents, entities]

  # ── Entidades (contratos YAML das views) ───────────────────────────────────
  - id: entity-fiis-cadastro
    path: data/entities/fiis_cadastro/entity.yaml
    tags: [entities, fiis, cadastro, "entity:fiis_cadastro"]

  - id: entity-fiis-dividendos
    path: data/entities/fiis_dividendos/entity.yaml
    tags: [entities, fiis, dividendos, "entity:fiis_dividendos"]

  - id: entity-fiis-precos
    path: data/entities/fiis_precos/entity.yaml
    tags: [entities, fiis, precos, "entity:fiis_precos"]

  - id: entity-fiis-rankings
    path: data/entities/fiis_rankings/entity.yaml
    tags: [entities, fiis, rankings, "entity:fiis_rankings"]

  - id: entity-fiis-metrics
    path: data/entities/fiis_metrics/entity.yaml
    tags: [entities, fiis, metricas, "entity:fiis_metrics"]

  - id: entity-fiis-imoveis
    path: data/entities/fiis_imoveis/entity.yaml
    tags: [entities, fiis, imoveis, "entity:fiis_imoveis"]

  - id: entity-fiis-noticias
    path: data/entities/fiis_noticias/entity.yaml
    tags: [entities, fiis, noticias, "entity:fiis_noticias"]

  - id: entity-fiis-processos
    path: data/entities/fiis_processos/entity.yaml
    tags: [entities, fiis, processos, "entity:fiis_processos"]

  - id: entity-fiis-financials-snapshot
    path: data/entities/fiis_financials_snapshot/entity.yaml
    tags: [entities, fiis, financials, snapshot, "entity:fiis_financials_snapshot"]

  - id: entity-fiis-financials-revenue
    path: data/entities/fiis_financials_revenue_schedule/entity.yaml
    tags: [entities, fiis, financials, revenue, "entity:fiis_financials_revenue_schedule"]

  - id: entity-fiis-financials-risk
    path: data/entities/fiis_financials_risk/entity.yaml
    tags: [entities, fiis, financials, risk, "entity:fiis_financials_risk"]

  - id: entity-fiis-financials-risk-hints
    path: data/entities/fiis_financials_risk/hints.md
    tags: [entities, fiis, financials, risk, "entity:fiis_financials_risk"]

  - id: entity-fiis-financials-revenue-hints
    path: data/entities/fiis_financials_revenue_schedule/hints.md
    tags: [entities, fiis, financials, revenue, "entity:fiis_financials_revenue_schedule"]

  - id: entity-client-fiis-positions
    path: data/entities/client_fiis_positions/entity.yaml
    tags: [entities, private, positions, "entity:client_fiis_positions"]

# ── Policies (paths corrigidos) ──────────────────────────────────────────────
  - id: policies-cache
    path: data/policies/cache.yaml
    tags: [policies, cache]

  - id: policies-quality
    path: data/policies/quality.yaml
    tags: [policies, quality]

  - id: policies-rag
    path: data/policies/rag.yaml
    tags: [policies, rag]

  # ── Quality gates & thresholds (telemetria de qualidade) ───────────────────
  - id: ops-planner-thresholds
    path: data/ops/planner_thresholds.yaml
    tags: [quality, thresholds]

  - id: ops-observability
    path: data/ops/observability.yaml
    tags: [observability, metrics, tracing]

  # ── Golden set (esperados de qualidade) ────────────────────────────────────
  - id: golden-m65-quality-yaml
    path: data/golden/m65_quality.yaml
    tags: [golden, quality]

  # ── Samples de qualidade (routing + projeções) ─────────────────────────────
  - id: q-routing-samples
    path: data/ops/quality/routing_samples.json
    tags: [quality, routing, samples]

  - id: q-projection-cadastro
    path: data/ops/quality/projection_fiis_cadastro.json
    tags: [quality, projection, cadastro]

  - id: q-projection-dividendos
    path: data/ops/quality/projection_fiis_dividendos.json
    tags: [quality, projection, dividendos]

  - id: q-projection-precos
    path: data/ops/quality/projection_fiis_precos.json
    tags: [quality, projection, precos]

  - id: q-projection-rankings
    path: data/ops/quality/projection_fiis_rankings.json
    tags: [quality, projection, rankings]

  - id: q-projection-imoveis
    path: data/ops/quality/projection_fiis_imoveis.json
    tags: [quality, projection, imoveis]

  - id: q-projection-noticias
    path: data/ops/quality/projection_fiis_noticias.json
    tags: [quality, projection, noticias]

  - id: q-projection-processos
    path: data/ops/quality/projection_fiis_processos.json
    tags: [quality, projection, processos]

  - id: q-projection-metrics
    path: data/ops/quality/projection_fiis_metrics.json
    tags: [quality, projection, metricas]

  - id: q-projection-fin-snapshot
    path: data/ops/quality/projection_fiis_financials_snapshot.json
    tags: [quality, projection, financials]

  - id: q-projection-fin-revenue
    path: data/ops/quality/projection_fiis_financials_revenue_schedule.json
    tags: [quality, projection, financials]

  - id: q-projection-fin-risk
    path: data/ops/quality/projection_fiis_financials_risk.json
    tags: [quality, projection, financials]

  - id: q-projection-client-positions
    path: data/ops/quality/projection_client_fiis_positions.json
    tags: [quality, projection, private]

  - id: q-m66-projection
    path: data/ops/quality_experimental/m66_projection.json
    tags: [quality, projection, m66]
