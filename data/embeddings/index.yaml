version: 1
collection: araquem-core
embedding_model: nomic-embed-text

chunk:
  max_chars: 1200
  overlap_chars: 120

hint_filters:
  # OPCIONAL: para que projections (q-*) também virem hints semânticos.
  allowlist: ["entity-*", "concepts-*", "q-*"]
  denylist: ["golden-*", "ontology-*"]
required_entity_doc: true
weight: 0.25
min_score: 0.20

include:
  # ── Conceitos (documentos de base do produto) ──────────────────────────────
  - id: concepts-catalog
    path: data/concepts/catalog.yaml
    tags: [concepts, catalog, fiis, "domain:concepts_fiis"]

  - id: concepts-fiis
    path: data/concepts/concepts-fiis.yaml
    tags: [concepts, fiis, "domain:concepts_fiis"]

  - id: concepts-risk
    path: data/concepts/concepts-risk.yaml
    tags: [concepts, risk, fiis, "domain:concepts_risk"]

  - id: concepts-macro
    path: data/concepts/concepts-macro.yaml
    tags: [concepts, macro, market, fiis, "domain:concepts_macro"]

  - id: concepts-macro-methodology
    path: data/concepts/concepts-macro-methodology.yaml
    tags: [concepts, macro, methodology, fiis, "domain:concepts_methodology"]

  - id: concepts-carteira
    path: data/concepts/concepts-carteira.yaml
    tags: [concepts, carteira, private, fiis, "domain:concepts_portfolio"]

  - id: concepts-institutional
    path: data/concepts/concepts-institutional.yaml
    tags: [concepts, institutional, "domain:institutional_core"]

  - id: concepts-institutional-policies
    path: data/concepts/concepts-institutional-policies.yaml
    tags: [concepts, institutional, policies, "domain:institutional_policies"]

  - id: concepts-institutional-privacy
    path: data/concepts/concepts-institutional-privacy.yaml
    tags: [concepts, institutional, privacy, "domain:institutional_privacy"]

  - id: concepts-institutional-terms
    path: data/concepts/concepts-institutional-terms.yaml
    tags: [concepts, institutional, terms, "domain:institutional_terms"]

  - id: concepts-institutional-product-positioning
    path: data/concepts/concepts-institutional-product-positioning.yaml
    tags: [concepts, institutional, positioning, "domain:institutional_product_positioning"]

  - id: concepts-support
    path: data/concepts/concepts-support.yaml
    tags: [concepts, support, faq, "domain:support_faq"]

  - id: concepts-support-howto
    path: data/concepts/concepts-support-howto.yaml
    tags: [concepts, support, howto, "domain:support_howto"]

  - id: concepts-support-errors
    path: data/concepts/concepts-support-errors.yaml
    tags: [concepts, support, errors, "domain:support_errors"]

  - id: concepts-support-troubleshooting
    path: data/concepts/concepts-support-troubleshooting.yaml
    tags: [concepts, support, troubleshooting, "domain:support_troubleshooting"]

  - id: concepts-support-plans
    path: data/concepts/concepts-support-plans.yaml
    tags: [concepts, support, plans, "domain:support_plans"]

  - id: concepts-risk-metrics-methodology
    path: data/concepts/concepts-risk-metrics-methodology.yaml
    tags: [concepts, risk, metrics, fiis, "domain:concepts_methodology"]

  # ── Ontologia (fonte de verdade para intents/entities) ─────────────────────
  - id: ontology-entity
    path: data/ontology/entity.yaml
    tags: [ontology, intents, entities]

  # ── Entidades (contratos YAML das views) ───────────────────────────────────
  - id: entity-fiis-cadastro
    path: data/entities/fiis_registrations/fiis_registrations.yaml
    tags: [entities, fiis, cadastro, "entity:fiis_registrations"]

  - id: entity-fiis-cadastro-hints
    path: data/entities/fiis_registrations/hints.md
    tags: [entities, fiis, cadastro, "entity:fiis_registrations"]

  - id: entity-fiis-dividendos
    path: data/entities/fiis_dividends/fiis_dividends.yaml
    tags: [entities, fiis, dividendos, "entity:fiis_dividends"]

  - id: entity-fiis-dividendos-hints
    path: data/entities/fiis_dividends/hints.md
    tags: [entities, fiis, dividendos, "entity:fiis_dividends"]

  - id: entity-fiis-precos
    path: data/entities/fiis_quota_prices/fiis_quota_prices.yaml
    tags: [entities, fiis, precos, "entity:fiis_quota_prices"]

  - id: entity-fiis-precos-hints
    path: data/entities/fiis_quota_prices/hints.md
    tags: [entities, fiis, precos, "entity:fiis_quota_prices"]

  - id: entity-fiis-rankings
    path: data/entities/fiis_rankings/fiis_rankings.yaml
    tags: [entities, fiis, rankings, "entity:fiis_rankings"]

  - id: entity-fiis-imoveis
    path: data/entities/fiis_real_estate/fiis_real_estate.yaml
    tags: [entities, fiis, imoveis, "entity:fiis_real_estate"]

  - id: entity-fiis-noticias
    path: data/entities/fiis_news/fiis_news.yaml
    tags: [entities, fiis, noticias, "entity:fiis_news"]

  - id: entity-fiis-processos
    path: data/entities/fiis_legal_proceedings/fiis_legal_proceedings.yaml
    tags: [entities, fiis, processos, "entity:fiis_legal_proceedings"]

  - id: entity-fiis-financials-snapshot
    path: data/entities/fiis_financials_snapshot/fiis_financials_snapshot.yaml
    tags: [entities, fiis, financials, snapshot, "entity:fiis_financials_snapshot"]

  - id: entity-fiis-financials-revenue
    path: data/entities/fiis_financials_revenue_schedule/fiis_financials_revenue_schedule.yaml
    tags: [entities, fiis, financials, revenue, "entity:fiis_financials_revenue_schedule"]

  - id: entity-fiis-financials-risk
    path: data/entities/fiis_financials_risk/fiis_financials_risk.yaml
    tags: [entities, fiis, financials, risk, "entity:fiis_financials_risk"]

  - id: entity-fiis-financials-risk-hints
    path: data/entities/fiis_financials_risk/hints.md
    tags: [entities, fiis, financials, risk, "entity:fiis_financials_risk"]

  - id: entity-fiis-financials-revenue-hints
    path: data/entities/fiis_financials_revenue_schedule/hints.md
    tags: [entities, fiis, financials, revenue, "entity:fiis_financials_revenue_schedule"]

  - id: entity-dividends-yields
    path: data/entities/fiis_dividends_yields/fiis_dividends_yields.yaml
    tags: [entities, fiis, dividendos, yield, "entity:fiis_dividends_yields"]

  - id: entity-dividends-yields-hints
    path: data/entities/fiis_dividends_yields/hints.md
    tags: [entities, fiis, dividendos, yield, "entity:fiis_dividends_yields"]

  - id: entity-fiis-yield-history
    path: data/entities/fiis_yield_history/fiis_yield_history.yaml
    tags: [entities, fiis, dividendos, yield, history, "entity:fiis_yield_history"]

  - id: entity-fiis-yield-history-hints
    path: data/entities/fiis_yield_history/hints.md
    tags: [entities, fiis, dividendos, yield, history, "entity:fiis_yield_history"]

  - id: entity-fii-overview
    path: data/entities/fiis_overview/fiis_overview.yaml
    tags: [entities, fiis, overview, "entity:fiis_overview"]

  - id: entity-fii-overview-hints
    path: data/entities/fiis_overview/hints.md
    tags: [entities, fiis, overview, "entity:fiis_overview"]

  - id: entity-carteira-enriquecida
    path: data/entities/client_fiis_enriched_portfolio/client_fiis_enriched_portfolio.yaml
    tags: [entities, fiis, carteira, private, "entity:client_fiis_enriched_portfolio"]

  - id: entity-carteira-enriquecida-hints
    path: data/entities/client_fiis_enriched_portfolio/hints.md
    tags: [entities, fiis, carteira, private, "entity:client_fiis_enriched_portfolio"]

  - id: entity-client-fiis-dividends-evolution
    path: data/entities/client_fiis_dividends_evolution/client_fiis_dividends_evolution.yaml
    tags: [entities, fiis, private, dividendos, evolution, "entity:client_fiis_dividends_evolution"]

  - id: entity-client-fiis-dividends-evolution-hints
    path: data/entities/client_fiis_dividends_evolution/hints.md
    tags: [entities, fiis, private, dividendos, evolution, "entity:client_fiis_dividends_evolution"]

  - id: entity-client-fiis-performance-vs-benchmark
    path: data/entities/client_fiis_performance_vs_benchmark/client_fiis_performance_vs_benchmark.yaml
    tags: [entities, fiis, private, performance, benchmark, "entity:client_fiis_performance_vs_benchmark"]

  - id: entity-client-fiis-performance-vs-benchmark-hints
    path: data/entities/client_fiis_performance_vs_benchmark/hints.md
    tags: [entities, fiis, private, performance, benchmark, "entity:client_fiis_performance_vs_benchmark"]

  - id: entity-client-fiis-performance-vs-benchmark-summary
    path: data/entities/client_fiis_performance_vs_benchmark_summary/client_fiis_performance_vs_benchmark_summary.yaml
    tags: [entities, fiis, private, performance, benchmark, summary, "entity:client_fiis_performance_vs_benchmark_summary"]

  - id: entity-client-fiis-performance-vs-benchmark-summary-hints
    path: data/entities/client_fiis_performance_vs_benchmark_summary/hints.md
    tags: [entities, fiis, private, performance, benchmark, summary, "entity:client_fiis_performance_vs_benchmark_summary"]

  - id: entity-macro-consolidada
    path: data/entities/consolidated_macroeconomic/consolidated_macroeconomic.yaml
    tags: [entities, macro, market, indicators, "entity:consolidated_macroeconomic"]

  - id: entity-macro-consolidada-hints
    path: data/entities/consolidated_macroeconomic/hints.md
    tags: [entities, macro, market, indicators, "entity:consolidated_macroeconomic"]

  - id: entity-client-fiis-positions
    path: data/entities/client_fiis_positions/client_fiis_positions.yaml
    tags: [entities, private, positions, "entity:client_fiis_positions"]

  # ── Policies (paths corrigidos) ────────────────────────────────────────────
  - id: policies-cache
    path: data/policies/cache.yaml
    tags: [policies, cache]

  - id: policies-quality
    path: data/policies/quality.yaml
    tags: [policies, quality]

  - id: policies-rag
    path: data/policies/rag.yaml
    tags: [policies, rag]

  # ── Quality gates & thresholds (telemetria de qualidade) ───────────────────
  - id: ops-planner-thresholds
    path: data/ops/planner_thresholds.yaml
    tags: [quality, thresholds, "domain:engineering", "rag:deny"]

  - id: ops-observability
    path: data/ops/observability.yaml
    tags: [observability, metrics, tracing, "domain:engineering", "rag:deny"]

  # ── Golden set (esperados de qualidade) ────────────────────────────────────
  - id: golden-m65-quality-yaml
    path: data/golden/m65_quality.yaml
    tags: [golden, quality, "domain:engineering", "rag:deny"]

  - id: golden-m68-collisions
    path: data/golden/m68_collisions.json
    tags: [golden, quality, collisions, "domain:engineering", "rag:deny"]

  # ── Samples de qualidade (routing + projeções) ─────────────────────────────
  - id: q-routing-samples
    path: data/ops/quality/routing_samples.json
    tags: [quality, routing, samples, "domain:engineering", "rag:deny"]

  - id: q-projection-cadastro
    path: data/ops/quality/projection_fiis_registrations.json
    tags: [quality, projection, cadastro, "domain:engineering", "rag:deny"]

  - id: q-projection-dividendos
    path: data/ops/quality/projection_fiis_dividends.json
    tags: [quality, projection, dividendos, "domain:engineering", "rag:deny"]

  - id: q-projection-precos
    path: data/ops/quality/projection_fiis_quota_prices.json
    tags: [quality, projection, precos, "domain:engineering", "rag:deny"]

  - id: q-projection-rankings
    path: data/ops/quality/projection_fiis_rankings.json
    tags: [quality, projection, rankings, "domain:engineering", "rag:deny"]

  - id: q-projection-imoveis
    path: data/ops/quality/projection_fiis_real_estate.json
    tags: [quality, projection, imoveis, "domain:engineering", "rag:deny"]

  - id: q-projection-noticias
    path: data/ops/quality/projection_fiis_news.json
    tags: [quality, projection, noticias, "domain:engineering", "rag:deny"]

  - id: q-projection-processos
    path: data/ops/quality/projection_fiis_legal_proceedings.json
    tags: [quality, projection, processos, "domain:engineering", "rag:deny"]

  - id: q-projection-fin-snapshot
    path: data/ops/quality/projection_fiis_financials_snapshot.json
    tags: [quality, projection, financials, "domain:engineering", "rag:deny"]

  - id: q-projection-fin-revenue
    path: data/ops/quality/projection_fiis_financials_revenue_schedule.json
    tags: [quality, projection, financials, "domain:engineering", "rag:deny"]

  - id: q-projection-fin-risk
    path: data/ops/quality/projection_fiis_financials_risk.json
    tags: [quality, projection, financials, "domain:engineering", "rag:deny"]

  - id: q-projection-client-positions
    path: data/ops/quality/projection_client_fiis_positions.json
    tags: [quality, projection, private, "domain:engineering", "rag:deny"]

  - id: q-projection-client-dividends-evolution
    path: data/ops/quality/projection_client_fiis_dividends.json
    tags: [quality, projection, private, "domain:engineering", "rag:deny"]

  - id: q-projection-client-performance-vs-benchmark
    path: data/ops/quality/projection_client_fiis_performance_vs_benchmark.json
    tags: [quality, projection, private, "domain:engineering", "rag:deny"]

  - id: q-projection-fii-overview
    path: data/ops/quality/projection_fiis_overview.json
    tags: [quality, projection, overview, "domain:engineering", "rag:deny"]

  - id: q-projection-fiis-yield-history
    path: data/ops/quality/projection_fiis_yield_history.json
    tags: [quality, projection, yield, "domain:engineering", "rag:deny"]

  - id: q-projection-dividends-yields
    path: data/ops/quality/projection_fiis_dividends_yields.json
    tags: [quality, projection, dividendos, yield, "domain:engineering", "rag:deny"]

  - id: q-projection-carteira-enriquecida
    path: data/ops/quality/projection_client_fiis_enriched_portfolio.json
    tags: [quality, projection, private, carteira, "domain:engineering", "rag:deny"]

  - id: q-projection-macro-consolidada
    path: data/ops/quality/projection_consolidated_macroeconomic.json
    tags: [quality, projection, macro, historical, "domain:engineering", "rag:deny"]

  - id: q-m66-projection
    path: data/golden/m66_projection.json
    tags: [quality, projection, m66, "domain:engineering", "rag:deny"]

  - id: entity-history-b3-indexes
    path: data/entities/history_b3_indexes/history_b3_indexes.yaml
    tags: [entities, market, indexes, b3, "entity:history_b3_indexes"]

  - id: entity-history-b3-indexes-hints
    path: data/entities/history_b3_indexes/hints.md
    tags: [entities, market, indexes, b3, "entity:history_b3_indexes"]

  - id: entity-history-currency-rates
    path: data/entities/history_currency_rates/history_currency_rates.yaml
    tags: [entities, fx, currency, "entity:history_currency_rates"]

  - id: entity-history-currency-rates-hints
    path: data/entities/history_currency_rates/hints.md
    tags: [entities, fx, currency, "entity:history_currency_rates"]

  - id: entity-history-market-indicators
    path: data/entities/history_market_indicators/history_market_indicators.yaml
    tags: [entities, market, macro, indicators, "entity:history_market_indicators"]

  - id: entity-history-market-indicators-hints
    path: data/entities/history_market_indicators/hints.md
    tags: [entities, market, macro, indicators, "entity:history_market_indicators"]
