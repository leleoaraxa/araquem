{% if rows and rows|length > 0 -%}
| Ticker | Nome | Setor | Gestão | DY mensal | DY 12m | Dividendos 12m | Market Cap | Sharpe | Sortino | Volatilidade | Drawdown | Rank Sírios | Rank IFIX | Rank IFIL | Rank DY 12m |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
{%- for r in rows %}
| {{ r.ticker }}
  | {{ r.display_name or '-' }}
  | {{ r.sector or '-' }}
  | {{ r.management_type or '-' }}
  | {{ r.dy_monthly_pct|percent_br if r.dy_monthly_pct is not none else '-' }}
  | {{ r.dy_12m_pct|percent_br if r.dy_12m_pct is not none else '-' }}
  | {{ r.dividends_12m_amt|currency_br if r.dividends_12m_amt is not none else '-' }}
  | {{ r.market_cap_value|currency_br if r.market_cap_value is not none else '-' }}
  | {{ r.sharpe_ratio|number_br(precision=2) if r.sharpe_ratio is not none else '-' }}
  | {{ r.sortino_ratio|number_br(precision=2) if r.sortino_ratio is not none else '-' }}
  | {{ r.volatility_ratio|percent_br if r.volatility_ratio is not none else '-' }}
  | {{ r.max_drawdown|percent_br if r.max_drawdown is not none else '-' }}
  | {{ r.sirios_rank_position|int_br if r.sirios_rank_position is not none else '-' }}
  | {{ r.ifix_rank_position|int_br if r.ifix_rank_position is not none else '-' }}
  | {{ r.ifil_rank_position|int_br if r.ifil_rank_position is not none else '-' }}
  | {{ r.rank_dy_12m|int_br if r.rank_dy_12m is not none else '-' }} |
{%- endfor %}
{%- else -%}
{{ empty_message or "Nenhum FII encontrado para os filtros informados." }}
{%- endif %}
