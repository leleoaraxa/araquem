id: fiis_news
result_key: noticias_fii
sql_view: fiis_news
private: false
description: Notícias e matérias relevantes sobre FIIs (fonte externa consolidada D-1)

options:
  supports_multi_ticker: true
  multi_ticker_mode: loop

d_minus: 1

identifiers:
  - name: ticker
    description: Ticker do FII normalizado (AAAA11)

default_date_field: published_at

columns:
  - { name: ticker,       alias: "Código FII",  description: "Código do fundo na B3 (AAAA11)." }
  - { name: source,       alias: "Fonte",       description: "Fonte ou veículo da notícia." }
  - { name: title,        alias: "Título",      description: "Título da matéria/notícia." }
  - { name: tags,         alias: "Tags",        description: "Palavras-chave associadas à notícia." }
  - { name: description,  alias: "Descrição",   description: "Resumo curto ou descrição da notícia." }
  - { name: url,          alias: "URL",         description: "Link completo para a notícia." }
  - { name: image_url,    alias: "URL da imagem", description: "URL de imagem de destaque da notícia." }
  - { name: published_at, alias: "Publicada em", description: "Data/hora de publicação da notícia." }
  - { name: created_at,   alias: "Criado em",   description: "Data de criação do registro." }
  - { name: updated_at,   alias: "Atualizado em", description: "Data da última atualização do registro." }

presentation:
  kind: list
  fields:
    key: title
    value: url
  empty_message: Nenhuma notícia encontrada.

ask:
  intents:
    - fiis_news
  requires_identifiers:
    - tickers
  keywords:
    - anuncio
    - anuncios
    - anunciou
    - atualizacao
    - atualizacoes
    - comunicado
    - comunicados
    - divulgacao
    - divulgou
    - fato relevante
    - fatos relevantes
    - informacao
    - informacoes
    - informou
    - materia
    - noticia
    - noticias
    - novidade
    - novidades
    - reportagem
    - ultima
    - ultimas
    - comunicado ao mercado
    - fato relevante do fundo
  phrase_includes:
    - atualizacoes do
    - fatos relevantes do
    - noticias do
    - novidades do fundo
    - ultimas noticias do
  anti_tokens:
    - abertura
    - aberturas
    - administrador
    - area
    - beta
    - betaa
    - bucket
    - caixa
    - cadastro
    - "cadastro do fundo"
    - carteira
    - "cap rate"
    - cdi
    - classe
    - cliente
    - cnpj
    - contrato
    - contratos
    - cotacao
    - cotacoes
    - cotacaoo
    - cotaco
    - cotacap
    - custodia
    - d-1
    - dividendo
    - dividendos
    - dividendoos
    - dvdndos
    - "dividend payout"
    - dolar
    - dolares
    - dy
    - d y
    - d.y
    - euro
    - euros
    - fechamento
    - fechamentos
    - fundamento
    - fundamental
    - fundamentos
    - hoje
    - historico
    - imovel
    - imoveis
    - inflacao
    - inflacoes
    - indexador
    - indexadores
    - investimento
    - ipca
    - localizacao
    - macro
    - mandato
    - "market cap"
    - metragem
    - metragens
    - meu
    - meus
    - minha
    - "minha carteira"
    - "minha custodia"
    - "minha posicao"
    - "minha renda"
    - minhas
    - "minhas carteiras"
    - "minhas posicoes"
    - "minhas rendas"
    - movimentacao
    - negociacao
    - negociacoes
    - ocupacao
    - ontem
    - overview
    - pagamento
    - patrimonio
    - payout
    - performance
    - posicao
    - posicoes
    - posicaos
    - posicoes
    - preco
    - precos
    - precoo
    - prco
    - precos
    - provento
    - proventos
    - proventos pagos
    - proventos
    - r2
    - receita
    - "receita futura"
    - renda
    - risco
    - selic
    - segmento
    - setor
    - sharpe
    - snapshot
    - sortino
    - treynor
    - mdd
    - unidade
    - unidades
    - vacancia
    - vacancias
    - variacao
    - variacoes
    - vol
    - volatilidade
    - yield
    - dy12
    - dy12m
    - "cotacao do fii"
    - "preco do fii"
  synonyms:
    ticker:
      - ativo
      - fii
      - fundo
      - papel
  weights:
    identifiers: 2.0
    keywords: 1.0
    synonyms: 0.5

order_by_whitelist:
  - published_at desc
  - updated_at desc

aggregations:
  enabled: true
  defaults:
    inference: true
    list:
      limit: 20
      order: desc

responses:
  default:
    kind: list
    template: responses/list.md.j2
