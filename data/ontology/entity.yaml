normalize:
  - lower
  - strip_accents
  - strip_punct

tokenization:
  split: "\\b"

weights:
  token: 1.0
  phrase: 2.0

intents:
  - name: cadastro
    tokens:
      include:
        - cadastro
        - cnpj
        - administrador
        - administradora
        - gestor
        - gestora
        - custodiante
        - assembleia
        - site
        - site oficial
        - nome
        - exibicao
        - b3
        - classificacao
        - setor
        - subsetor
        - gestao
        - publico
        - alvo
        - isin
        - ipo
        - peso
        - ifix
        - ifil
        - cotas
        - cotistas
        - url
        - oficial
      exclude:
        - preco
        - precos
        - cotacao
        - dividendo
        - ranking
        - top
    phrases:
      include:
        - cnpj do
        - administrador do
        - site do
        - nome de pregao do
        - nome de pregao b3 do
        - nome de exibicao do
        - classificacao do
        - setor do
        - subsetor do
        - tipo de gestao do
        - publico alvo do
        - codigo isin do
        - data do ipo do
        - peso no ifix do
        - peso no ifil do
        - numero de cotas emitidas do
        - quantos cotistas tem o
        - url oficial do
        - fundo exclusivo
        - e fundo exclusivo
        - fundo e exclusivo
      exclude:
        - preco do
        - cotacao do
        - dividendo do
        - ranking de
        - propriedades do
        - quais imoveis do
        - processos do
        - status dos processos do
    entities: [fiis_cadastro]

  - name: precos
    tokens:
      include:
        - preco
        - precos
        - cotacao
        - hoje
        - ontem
        - abertura
        - abrir
        - fechamento
        - fechar
        - maxima
        - minima
        - variacao
        - diaria
        - pregao
      exclude:
        - cadastro
        - dividendo
        - ranking
        - top
        - melhores
        - piores
        - media
    phrases:
      include:
        - preco do
        - preco atual
        - preco pregao
        - cotacao do
        - abertura do
        - fechamento do
        - maxima do
        - minima do
        - variacao diaria
      exclude:
        - "media de preco"
        - "preco medio"
        - ranking de
        - top fiis por
        - dividendo do
    entities: [fiis_precos]

  - name: dividendos
    tokens:
      include:
        - dividendo
        - dividendos
        - ultimo
        - ultima
        - recentes
        - mais
        - mais recentes
        - provento
        - proventos
        - rendimento
        - rendimentos
        - pagamento
        - paga
        - pagou
      exclude:
        - cadastro
        - preco
        - cotacao
        - ranking
    phrases:
      include:
        - "dividendo do"
        - "dividendos do"
        - "ultimo dividendo"
        - "ultima distribuicao"
        - "mais recentes dividendos"
        - "qual o ultimo dividendo do"
        - "quando foi o ultimo pagamento do"
        - "proventos do"
        - "rendimento do"
        - "pagamento do"
        - "data com"
        - "data ex"
        - "quando paga"
      exclude:
        - "soma de"
        - "quanto de"
        - "nos ultimos"
        - "12 meses"
        - "6 meses"
        - "24 meses"
    entities: [fiis_dividendos]

  - name: noticias
    tokens:
      include:
        - noticia
        - noticias
        - materia
        - reportagem
        - atualizacao
        - ultimas
        - novidades
      exclude: []
    phrases:
      include:
        - noticias do
        - ultimas do
        - novidades do
        - ultimas noticias do
        - as noticias do
      exclude: []
    entities: [fiis_noticias]

  - name: rankings
    tokens:
      include:
        - ranking
        - posicao
        - posicoes
        - top
        - aparicoes
        - movimentos
        - ifix
        - ifil
        - usuarios
        - sirios
        - vezes
      exclude:
        - cadastro
        - preco
        - cotacao
        - dividendo
    phrases:
      include:
        - ranking do
        - posicao do
        - aparicoes do
        - movimentos do
        - ranking de
        - top fiis por
        - melhores fiis por
      exclude:
        - preco do
        - cotacao do
        - dividendo do
    entities: [fiis_rankings]

  - name: metricas
    tokens:
      include:
        - metricas
        - metrica
        - media
        - soma
        - dy
        - "dividend yield"
        - payout
        - alavancagem
        - endividamento
        - caixa
        - "caixa total"
        - enterprise
        - "enterprise value"
        - ev
        - market
        - "market cap"
        - patrimonio
        - "preco/patrimonio"
        - "price book"
        - cap
        - "cap rate"
        - crescimento
        - receitas
        - recebiveis
        - vencimento
        - prazos
        - buckets
        - indexador
        - igpm
        - ipca
        - inpc
        - incc
        - risco
        - volatilidade
        - sharpe
        - treynor
        - jensen
        - "alfa de jensen"
        - beta
        - posicao
        - posicoes
        - carteira
        - minhas
        - minha
        - meu
        - documento
        - cpf
    phrases:
      include:
        - "metricas do"
        - "soma de dividendos"
        - "soma de dividendos do"
        - "preco medio"
        - "qual o dy"
        - "qual o dy do"
        - "dy medio do"
        - "preco medio do"
        - "ultimos pagamentos"
        - "ultimas distribuicoes"
        - "quanto de dividendos"
        - "dividendos totais do"
        - "contagem de pagamentos do"
        - "pagou nos ultimos"
        - "dividendos nos ultimos"
        - "dividendos nos ultimos 12 meses"
        - "payout do"
        - "alavancagem do"
        - "endividamento do"
        - "caixa do"
        - "market cap do"
        - "ev do"
        - "enterprise value do"
        - "preco/patrimonio do"
        - "price book do"
        - "cap rate do"
        - "crescimento do"
        - "estrutura de recebiveis do"
        - "receitas por prazo do"
        - "quanto vence em 12 meses do"
        - "indexadores de receita do"
        - "volatilidade do"
        - "sharpe do"
        - "treynor do"
        - "jensen do"
        - "alfa de jensen do"
        - "beta do"
        - "minhas posicoes"
        - "minhas posicoes cpf"
        - "minha carteira"
        - "posicoes cpf"
        - "caixa disponivel"
        - "caixa disponível"
        - "caixa e equivalentes"
        - "saldo de caixa"
        - "indice de treynor"
        - "índice de treynor"
        - "receita com vencimento em 0-3 meses"
        - "receita com vencimento em 0–3 meses"
        - "cronograma de receitas 0-3"
        - "pipeline de receitas 0-3"
        - "quantidade em custodia"
        - "quantidade em custódia"
        - "minhas posicoes"
        - "minhas posições"
        - "média de preço"
        - "preço médio"
        - "dy médio"
        - "soma de dividendos"
        - "nos últimos 12 meses"
        - "nos ultimos 12 meses"
        - "no ano"
        - "volatilidade do"
        - "sharpe do"
        - "índice de treynor do"
        - "indice de treynor do"
        - "beta do"
        - "estrutura de recebíveis do"
        - "estrutura de recebiveis do"
        - "receita com vencimento em 0–3 meses do"
        - "receita com vencimento em 0-3 meses do"
        - "quanto vence em 12 meses do"
        - "minhas posições"
        - "minhas posicoes"
        - "minhas posições de fiis"
        - "minhas posicoes de fiis"
        - "minhas posições na b3"
        - "minhas posicoes na b3"
        - "quantidade em custódia"
        - "quantidade em custodia"
      exclude: []
    entities:
      # Específicas primeiro; guarda-chuva por último (vence só com grande folga):
      - fiis_financials_snapshot
      - fiis_financials_risk
      - fiis_financials_revenue_schedule
      - client_fiis_positions
      - fiis_metrics
    anti_tokens:
      # Sinalizadores negativos por entidade dentro do intent metricas.
      # Observação de privacidade: menções textuais a "cpf", "documento" ou similares são neutras;
      # o CPF efetivo vem do payload (entidade private: true).
      fiis_metrics:
        - payout
        - alavancagem
        - "market cap"
        - "enterprise value"
        - ev
        - "price book"
        - "preco/patrimonio"
        - caixa
        - "caixa total"
        - passivos
        - "cap rate"
      fiis_financials_snapshot:
        - soma
        - "soma de"
        - "soma de dividendos"
        - "contagem de"
        - "contagem de pagamentos"
        - media
        - "preco medio"
        - "dy medio"
        - "ultimos"
        - "12 meses"
        - "6 meses"
        - "quanto pagou"
        - "dividendos nos ultimos"
        - volatilidade
        - sharpe
        - treynor
        - "indice de treynor"
        - "índice de treynor"
        - beta
        - receita
        - recebiveis
        - "recebíveis"
        - vencimento
        - "0 3"
        - "3 6"
        - "6 9"
        - "9 12"
        - "12 15"
        - "15 18"
        - "18 21"
        - "21 24"
        - "24 27"
        - "27 30"
        - "30 33"
        - "33 36"
        - volatilidade
        - sharpe
        - treynor
        - "indice de treynor"
        - "índice de treynor"
        - beta
        - receita
        - recebiveis
        - "recebíveis"
        - vencimento
        - "0 3"
        - "3 6"
        - "6 9"
        - "9 12"
        - "12 15"
        - "15 18"
        - "18 21"
        - "21 24"
        - "24 27"
        - "27 30"
        - "30 33"
        - "33 36"
        - "minhas"
        - "posicoes"
        - "posições"
        - "custodia"
        - "custódia"
      fiis_financials_revenue_schedule:
        - payout
        - alavancagem
        - "market cap"
        - ev
        - "price book"
        - "preco/patrimonio"
        - caixa
        - payout
        - alavancagem
        - "market cap"
        - ev
        - "price book"
        - "preco/patrimonio"
        - caixa
        - volatilidade
        - sharpe
        - treynor
        - "indice de treynor"
        - "índice de treynor"
        - beta
        - "minhas"
        - "posicoes"
        - "posições"
        - "custodia"
        - "custódia"
      fiis_financials_risk:
        - payout
        - "market cap"
        - ev
        - "price book"
        - caixa
        - soma
        - "preco medio"
        - "média de preço"
        - "dy medio"
        - "soma de dividendos"
        - receita
        - recebiveis
        - "recebíveis"
        - vencimento
        - "0 3"
        - "3 6"
        - "6 9"
        - "9 12"
        - "12 15"
        - "15 18"
        - "18 21"
        - "21 24"
        - "24 27"
        - "27 30"
        - "30 33"
        - "33 36"
        - "12 meses"
        - "minhas"
        - "posicoes"
        - "posições"
        - "custodia"
        - "custódia"
        - payout
        - alavancagem
        - "market cap"
        - ev
        - "price book"
        - "preco/patrimonio"
        - caixa
        - "cap rate"
      client_fiis_positions:
        - payout
        - "market cap"
        - ev
        - "price book"
        - caixa
        - "cap rate"
        - volatilidade
        - sharpe
        - treynor
        - beta
        - receita
        - recebiveis
        - vencimento
        - "0 3"
        - "3 6"
        - "6 9"
        - "9 12"
        - "12 15"
        - "15 18"
        - "18 21"
        - "21 24"
        - "24 27"
        - "27 30"
        - "30 33"
        - "33 36"
        - "12 meses"

  - name: imoveis
    tokens:
      include:
        - imovel
        - imoveis
        - propriedade
        - propriedades
        - ativos
        - portfolio
        - vacancia
        - ocupacao
        - unidades
      exclude: []
    phrases:
      include:
        - "imoveis do"
        - "quais imoveis do"
        - "lista de propriedades do"
        - "area total do"
        - "status dos"
        - "status do"
      exclude: []
    entities: [fiis_imoveis]

  - name: processos
    tokens:
      include:
        - processo
        - processos
        - judicial
        - judiciais
        - andamento
        - status
        - litigio
        - litgio
        - causa
        - risco
        - acao
        - acoes
      exclude: []
    phrases:
      include:
        - "processos do"
        - "status dos processos do"
        - "andamento dos processos do"
        - "processos judiciais do"
        - "acoes judiciais do"
      exclude: []
    entities: [fiis_processos]

anti_tokens:
  noticias: [noticia, noticias, materia, reportagem, manchete]
