entities:
  client_fiis_positions:
    title: Carteira do cliente – posições em FIIs
    kind: client
    paths:
      entity_yaml: data/entities/client_fiis_positions/client_fiis_positions.yaml
      schema: data/contracts/entities/client_fiis_positions.schema.yaml
      quality_projection: data/ops/quality/projection_client_fiis_positions.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - document_number
      - position_date
      - ticker
    notes: []
  client_fiis_dividends_evolution:
    title: Carteira do cliente – evolução dos dividendos
    kind: client
    paths:
      entity_yaml: data/entities/client_fiis_dividends_evolution/client_fiis_dividends_evolution.yaml
      schema: data/contracts/entities/client_fiis_dividends_evolution.schema.yaml
      quality_projection: data/ops/quality/projection_client_fiis_dividends.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - document_number
      - year_reference
      - month_number
    notes:
    - entidade privada de carteira; dados por document_number
    - RAG/Narrator negados por policy; resposta 100% SQL determinística
  client_fiis_performance_vs_benchmark:
    title: Carteira do cliente – performance vs benchmark
    kind: client
    paths:
      entity_yaml: data/entities/client_fiis_performance_vs_benchmark/client_fiis_performance_vs_benchmark.yaml
      schema: data/contracts/entities/client_fiis_performance_vs_benchmark.schema.yaml
      quality_projection: data/ops/quality/projection_client_fiis_performance_vs_benchmark.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - document_number
      - benchmark_code
      - date_reference
    notes:
    - entidade privada de carteira; comparação determinística vs IFIX/IFIL/IBOV/CDI
    - binding de document_number via contexto seguro; benchmark_code pode ser texto
      do usuário
  client_fiis_performance_vs_benchmark_summary:
    title: Carteira do cliente – performance vs benchmark (resumo)
    kind: client
    bucket: carteira/privado
    paths:
      entity_yaml: data/entities/client_fiis_performance_vs_benchmark_summary/client_fiis_performance_vs_benchmark_summary.yaml
      schema: data/contracts/entities/client_fiis_performance_vs_benchmark_summary.schema.yaml
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - document_number
      - benchmark_code
      - date_reference
    notes:
    - entidade privada dependente de document_number
  fiis_registrations:
    title: FIIs – Cadastro
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_registrations/fiis_registrations.yaml
      schema: data/contracts/entities/fiis_registrations.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_registrations.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
    notes: []
  fiis_dividends:
    title: FIIs – Dividendos históricos
    kind: historical
    paths:
      entity_yaml: data/entities/fiis_dividends/fiis_dividends.yaml
      schema: data/contracts/entities/fiis_dividends.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_dividends.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - payment_date
    notes: []
  fiis_yield_history:
    title: FIIs – Dividend yield mensal
    kind: historical
    paths:
      entity_yaml: data/entities/fiis_yield_history/fiis_yield_history.yaml
      schema: data/contracts/entities/fiis_yield_history.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_yield_history.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - ref_month
    notes: []
  fiis_overview:
    title: FIIs – Visão consolidada (overview)
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_overview/fiis_overview.yaml
      schema: data/contracts/entities/fiis_overview.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_overview.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
    notes: []
  fiis_financials_snapshot:
    title: FIIs – Indicadores financeiros (snapshot D-1)
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_financials_snapshot/fiis_financials_snapshot.yaml
      schema: data/contracts/entities/fiis_financials_snapshot.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_financials_snapshot.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: false
    identifiers:
      natural_keys:
      - ticker
      - updated_at
    notes: []
  fiis_financials_revenue_schedule:
    title: FIIs – Cronograma de receitas e indexadores
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_financials_revenue_schedule/fiis_financials_revenue_schedule.yaml
      schema: data/contracts/entities/fiis_financials_revenue_schedule.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_financials_revenue_schedule.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - updated_at
    notes: []
  fiis_financials_risk:
    title: FIIs – Indicadores de risco (D-1)
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_financials_risk/fiis_financials_risk.yaml
      schema: data/contracts/entities/fiis_financials_risk.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_financials_risk.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
    notes: []
  fiis_real_estate:
    title: FIIs – Imóveis e propriedades
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_real_estate/fiis_real_estate.yaml
      schema: data/contracts/entities/fiis_real_estate.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_real_estate.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - asset_name
    notes: []
  fiis_news:
    title: FIIs – Notícias (D-1)
    kind: historical
    paths:
      entity_yaml: data/entities/fiis_news/fiis_news.yaml
      schema: data/contracts/entities/fiis_news.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_news.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - published_at
    notes: []
  fiis_quota_prices:
    title: FIIs – Preços diários
    kind: historical
    paths:
      entity_yaml: data/entities/fiis_quota_prices/fiis_quota_prices.yaml
      schema: data/contracts/entities/fiis_quota_prices.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_quota_prices.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - traded_at
    notes: []
  fiis_legal_proceedings:
    title: FIIs – Processos judiciais
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_legal_proceedings/fiis_legal_proceedings.yaml
      schema: data/contracts/entities/fiis_legal_proceedings.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_legal_proceedings.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - process_number
    notes: []
  fiis_rankings:
    title: FIIs – Rankings e posições
    kind: snapshot
    paths:
      entity_yaml: data/entities/fiis_rankings/fiis_rankings.yaml
      schema: data/contracts/entities/fiis_rankings.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_rankings.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
    notes: []
  history_b3_indexes:
    title: Mercado – Índices B3 (D-1)
    kind: historical
    paths:
      entity_yaml: data/entities/history_b3_indexes/history_b3_indexes.yaml
      schema: data/contracts/entities/history_b3_indexes.schema.yaml
      quality_projection: data/ops/quality/projection_history_b3_indexes.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - index_date
    notes: []
  history_currency_rates:
    title: Mercado – Taxas de câmbio (D-1)
    kind: historical
    paths:
      entity_yaml: data/entities/history_currency_rates/history_currency_rates.yaml
      schema: data/contracts/entities/history_currency_rates.schema.yaml
      quality_projection: data/ops/quality/projection_history_currency_rates.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - rate_date
    notes: []
  history_market_indicators:
    title: Mercado – Indicadores macro (D-1)
    kind: historical
    paths:
      entity_yaml: data/entities/history_market_indicators/history_market_indicators.yaml
      schema: data/contracts/entities/history_market_indicators.schema.yaml
      quality_projection: data/ops/quality/projection_history_market_indicators.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - indicator_date
      - indicator_name
    notes: []
  fiis_dividends_yields:
    title: FIIs – Dividendos + DY (composta)
    kind: historical
    paths:
      entity_yaml: data/entities/fiis_dividends_yields/fiis_dividends_yields.yaml
      schema: data/contracts/entities/fiis_dividends_yields.schema.yaml
      quality_projection: data/ops/quality/projection_fiis_dividends_yields.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ticker
      - ref_month
    notes: []
  client_fiis_enriched_portfolio:
    title: Carteira privada – posição enriquecida
    kind: historical
    paths:
      entity_yaml: data/entities/client_fiis_enriched_portfolio/client_fiis_enriched_portfolio.yaml
      schema: data/contracts/entities/client_fiis_enriched_portfolio.schema.yaml
      quality_projection: data/ops/quality/projection_client_fiis_enriched_portfolio.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - document_number
      - position_date
      - ticker
    notes:
    - Entidade privada; requer document_number do contexto seguro.
  consolidated_macroeconomic:
    title: Mercado – Macro consolidada
    kind: historical
    paths:
      entity_yaml: data/entities/consolidated_macroeconomic/consolidated_macroeconomic.yaml
      schema: data/contracts/entities/consolidated_macroeconomic.schema.yaml
      quality_projection: data/ops/quality/projection_consolidated_macroeconomic.json
    coverage:
      cache_policy: true
      rag_policy: false
      narrator_policy: false
      param_inference: true
    identifiers:
      natural_keys:
      - ref_date
    notes: []
