entity: fiis_rankings
kind: view
version: 1

columns:
  - { name: ticker,                          type: string,  nullable: false, desc: "código do FII (AAAA11)" }
  - { name: users_rank_position,             type: integer, nullable: true,  desc: "posição do FII no ranking de usuários." }
  - { name: users_rank_net_movement,       type: integer, nullable: true,  desc: "Quantidade de movimentos (subidas/quedas) registrados em rankings de usuários." }
  - { name: sirios_rank_position,            type: integer, nullable: true,  desc: "posição do FII no ranking da SIRIOS." }
  - { name: sirios_rank_net_movement,      type: integer, nullable: true,  desc: "Quantidade de movimentos (subidas/quedas) registrados em rankings da SIRIOS." }
  - { name: ifix_rank_position,              type: integer, nullable: true,  desc: "posição do FII no ranking do IFIX." }
  - { name: ifix_rank_net_movement,        type: integer, nullable: true,  desc: "Movimentos de posição do FII em recortes de ranking do IFIX." }
  - { name: ifil_rank_position,              type: integer, nullable: true,  desc: "posição do FII no ranking do IFIL." }
  - { name: ifil_rank_net_movement,        type: integer, nullable: true,  desc: "Movimentos de posição do FII em recortes de ranking do IFIL." }
  - { name: created_at,                      type: timestamp,nullable: false, desc: "Data de criação do registro." }
  - { name: updated_at,                      type: timestamp,nullable: false, desc: "Data da última atualização do registro." }

ordering: [ticker]

presentation:
  columns:
    ticker:                      { as: string }     # código AAAA11
    users_rank_position:         { as: integer }    # 10
    users_rank_net_movement:   { as: integer }    # 5
    sirios_rank_position:        { as: integer }    # 8
    sirios_rank_net_movement:  { as: integer }    # 3
    ifix_rank_position:          { as: integer }    # 12
    ifix_rank_net_movement:    { as: integer }    # 4
    ifil_rank_position:          { as: integer }    # 7
    ifil_rank_net_movement:    { as: integer }    # 2

  rules: {}

sample_questions:
  - "qual a posição do HGLG11 no ranking de usuários?"
  - "quantas vezes o HGLG11 apareceu no ranking da SIRIOS?"
  - "quantos movimentos de posição o KNRI11 teve no ranking do IFIX?"
  - "qual a posição do HGRU11 no ranking do IFIL?"
  - "quantas vezes o HGRU11 apareceu no ranking de usuários?"
  - "quantos movimentos de posição o HGLG11 teve no ranking da SIRIOS?"
  - "qual a posição do KNRI11 no ranking do IFIX?"
  - "quantas vezes o KNRI11 apareceu no ranking do IFIL?"

tolerance:
  extra_columns_allowed: false
  missing_columns_allowed: false
  nullable_mismatch_warn_only: false
