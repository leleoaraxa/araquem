entity: fiis_processos
kind: view
version: 1

columns:
  - { name: ticker,              type: string,  nullable: false, desc: "código do FII (AAAA11)" }
  - { name: process_number,     type: string,  nullable: false, desc: "identificador/número do processo judicial." }
  - { name: judgment,           type: string,  nullable: true,  desc: "situação ou fase de julgamento do processo." }
  - { name: instance,          type: string,  nullable: true,  desc: "instância em que o processo tramita." }
  - { name: initiation_date,   type: date,    nullable: true, desc: "data de distribuição ou início do processo." }
  - { name: cause_amt,         type: number,  nullable: true, desc: "valor envolvido na causa." }
  - { name: process_parts,     type: string,  nullable: true, desc: "partes envolvidas no processo." }
  - { name: loss_risk_pct,     type: number,  nullable: true, desc: "percentual estimado de risco de perda." }
  - { name: main_facts,        type: string,  nullable: true, desc: "principais fatos alegados ou descritos no processo." }
  - { name: loss_impact_analysis, type: string,  nullable: true, desc: "avaliação do impacto potencial do processo." }
  - { name: created_at,        type: timestamp, nullable: false, desc: "data de criação do registro." }
  - { name: updated_at,        type: timestamp, nullable: false, desc: "data da última atualização do registro." }

ordering: [ticker, initiation_date]

presentation:
  columns:
    ticker:               { as: string }               # código AAAA11
    main_facts:           { as: string }               # "O fundo XYZ entrou com ação contra a empresa ABC alegando descumprimento contratual..."
    cause_amt:            { as: currency }              # "R$ 1.234,56"
    initiation_date:      { as: date }                  # "27/10/2025"
    loss_risk_pct:        { as: percent, precision: 2 } # "12,34%"
    process_number:     { as: string }               # "0001234-56.2023.8.26.0100"
    judgment:           { as: string }               # "Em julgamento"
    instance:          { as: string }               # "1ª Instância"
    process_parts:     { as: string }               # "Fundo XYZ vs Empresa ABC"
    loss_impact_analysis: { as: string }               # "O impacto potencial do processo

  rules:
    percent_precision: 2

sample_questions:
  - "Quais são os processos judiciais envolvendo o KNRI11?"
  - "Me mostre os processos do HGLG11 com alto risco de perda."
  - "Quais processos do VISC11 foram iniciados no último ano?"
  - "Liste os processos do XPML11 com valor da causa acima de R$ 1 milhão."
  - "Quais são os principais fatos dos processos do HGLG11?"
  - "Me informe sobre os processos do KNRI11 e seu impacto potencial."
  - "Quais processos do VISC11 estão em fase de julgamento?"
  - "Liste os processos do XPML11 iniciados nos últimos 6 meses."
  - "Quais processos do KNRI11 têm um risco de perda acima de 50%?"
  - "Me mostre os processos do HGLG11 com valor da causa superior a R$ 500 mil."
  - "Quais são os processos do VISC11 e suas principais partes envolvidas?"
  - "Informe os processos do XPML11 e suas datas de início."
  - "Quais processos do KNRI11 têm uma avaliação de impacto significativa?"
  - "Liste os processos do HGLG11 com risco de perda estimado."
  - "Me mostre os processos do VISC11 com valor da causa relevante."
  - "Quais são os processos do XPML11 e suas fases de julgamento?"
  - "Informe os processos do KNRI11 com datas de início recentes."
  - "Quais processos do HGLG11 têm um impacto potencial elevado?"

tolerance:
  extra_columns_allowed: false
  missing_columns_allowed: false
  nullable_mismatch_warn_only: false
