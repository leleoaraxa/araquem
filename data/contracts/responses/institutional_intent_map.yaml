version: 1
domain: institutional

agent:
  name: "Íris"
product:
  name: "SIRIOS"

defaults:
  response_contract: "data/contracts/responses/institutional_response_contract.yaml"
  layers:
    layer_1_direct: true
    layer_2_enrichment: "gated"
    layer_3_concept: true

ui:
  primary_nav:
    - "Início"
    - "Mercado"
    - "Carteira"
    - "FIIs"
    - "Calculadoras"
    - "Notícias"
    - "Minha Área"
    - "Fórum"
  calculators:
    - "Simulador de ativos"
    - "Comparador de ativos"
    - "Minha meta de renda"
    - "Liberdade financeira"

intent_map:

  - intent_id: "institutional_what_is_sirios"
    title: "O que é a SIRIOS"
    concept_ref: "sirios_identity"
    enrichment:
      enabled_when:
        - "user asks 'como funciona' OR 'o que tem' OR 'o que inclui'"
      bullets:
        - "A SIRIOS organiza análises por áreas: Mercado, FIIs, Carteira e Notícias."
        - "A Íris ajuda a explicar dados e conceitos sem recomendar investimentos."
        - "Há também Fórum e Calculadoras para aprofundar o aprendizado."

  - intent_id: "institutional_who_is_iris"
    title: "Quem é a Íris"
    concept_ref: "iris_agent"
    enrichment:
      enabled_when:
        - "user asks 'o que ela faz' OR 'como ela responde' OR 'ela recomenda'"
      bullets:
        - "A Íris explica resultados e conceitos com foco educacional."
        - "Ela não prevê preços e não recomenda compra/venda."
        - "Quando faltar contexto, ela pede uma pergunta mais específica."

  - intent_id: "institutional_sirios_for_whom"
    title: "Para quem é a SIRIOS"
    concept_ref: "target_audience"
    enrichment:
      enabled_when:
        - "user asks 'sou iniciante' OR 'vale pra mim' OR 'pra quem serve'"
      bullets:
        - "Para iniciantes: explicações e visão guiada; para experientes: dados e históricos."
        - "Carteira e Minha Área ajudam no acompanhamento do investidor."

  - intent_id: "institutional_how_to_use_platform"
    title: "Como usar a plataforma"
    concept_ref: "platform_navigation"
    enrichment:
      enabled_when:
        - "user asks 'onde vejo' OR 'como acho' OR 'como navegar'"
      bullets:
        - "Mercado: visão geral e leituras do mercado de FIIs."
        - "FIIs: lista e filtros; acesse o detalhe de um fundo."
        - "Carteira: distribuição e performance vs benchmarks."
        - "Notícias: feed com filtros para refinar."

  - intent_id: "institutional_modules_overview"
    title: "Quais módulos existem"
    concept_ref: "modules_map"
    enrichment:
      enabled_when:
        - "user asks 'o que tem na plataforma' OR 'funcionalidades'"
      bullets:
        - "Mercado, FIIs (detalhe do fundo), Carteira, Notícias, Fórum, Minha Área e Calculadoras."

  - intent_id: "institutional_data_sources"
    title: "De onde vêm os dados"
    concept_ref: "data_sources"
    enrichment:
      enabled_when:
        - "user asks 'fonte' OR 'de onde vem' OR 'é confiável'"
      bullets:
        - "A SIRIOS usa dados públicos e séries históricas; e dados privados apenas com login."
        - "A plataforma descreve histórico; não faz projeção."
        - "Se um dado não existir, a Íris informa ausência (sem inferir)."

  - intent_id: "institutional_data_update_frequency"
    title: "Com que frequência atualiza"
    concept_ref: "data_freshness"
    enrichment:
      enabled_when:
        - "user asks 'atualiza quando' OR 'tempo real' OR 'D-1'"
      bullets:
        - "Algumas informações podem seguir D-1 (foto do dia anterior)."
        - "Séries históricas seguem a periodicidade da fonte (diária/mensal)."

  - intent_id: "institutional_limitations"
    title: "Limitações e o que a SIRIOS não faz"
    concept_ref: "limitations"
    enrichment:
      enabled_when:
        - "user asks 'você recomenda' OR 'vai subir' OR 'qual o melhor'"
      bullets:
        - "A SIRIOS não faz recomendação e não prevê preços."
        - "Ela descreve dados e explica conceitos para apoiar entendimento."

  - intent_id: "institutional_privacy_and_security"
    title: "Privacidade e segurança"
    concept_ref: "privacy_security"
    enrichment:
      enabled_when:
        - "user asks 'meus dados' OR 'segurança' OR 'LGPD'"
      bullets:
        - "Dados de carteira são privados e acessíveis apenas no contexto autenticado."
        - "A Íris não deve expor dados sensíveis fora do escopo do usuário."

  - intent_id: "institutional_portfolio_how_it_works"
    title: "Como a Carteira funciona"
    concept_ref: "portfolio_module"
    enrichment:
      enabled_when:
        - "user asks 'carteira' OR 'posições' OR 'rentabilidade'"
      bullets:
        - "Carteira: distribuição dos ativos e comparações descritivas vs benchmarks (ex.: IFIX, CDI)."
        - "Os gráficos mostram histórico e comparação, sem projeção."

  - intent_id: "institutional_news_how_it_works"
    title: "Como a área de Notícias funciona"
    concept_ref: "news_module"
    enrichment:
      enabled_when:
        - "user asks 'notícias' OR 'filtrar' OR 'tags'"
      bullets:
        - "Notícias: cards com data e categoria; filtros para refinar o feed."
        - "A Íris pode ajudar a interpretar a leitura, sem inventar fatos."

  - intent_id: "institutional_forum_how_it_works"
    title: "Como funciona o Fórum"
    concept_ref: "forum_module"
    enrichment:
      enabled_when:
        - "user asks 'fórum' OR 'comunidade' OR 'tópicos'"
      bullets:
        - "Fórum: tópicos com categorias, busca e ordenação."
        - "Objetivo: trocar experiências e aprender com a comunidade."

  - intent_id: "institutional_calculators_overview"
    title: "Quais calculadoras existem e para que servem"
    concept_ref: "calculators"
    enrichment:
      enabled_when:
        - "user asks 'calculadoras' OR 'simulador' OR 'meta de renda'"
      bullets:
        - "Simulador de ativos: testar cenários por parâmetros."
        - "Comparador de ativos: comparar lado a lado."
        - "Minha meta de renda: acompanhar objetivo e evolução."
        - "Liberdade financeira: ver progresso e cenários simulados."

  - intent_id: "institutional_calculator_simulator"
    title: "Simulador de ativos"
    concept_ref: "calculator_simulator"
    enrichment:
      enabled_when:
        - "user asks 'simulador de ativos' OR 'simular'"
      bullets:
        - "Use para testar cenários ajustando parâmetros e observando resultados simulados."
        - "Resultados são simulações; não são recomendação."

  - intent_id: "institutional_calculator_comparator"
    title: "Comparador de ativos"
    concept_ref: "calculator_comparator"
    enrichment:
      enabled_when:
        - "user asks 'comparador' OR 'comparar ativos'"
      bullets:
        - "Use para comparar métricas e características em uma única visão."
        - "A comparação é descritiva; não indica 'melhor' ativo."

  - intent_id: "institutional_calculator_income_goal"
    title: "Minha meta de renda"
    concept_ref: "calculator_income_goal"
    enrichment:
      enabled_when:
        - "user asks 'meta de renda' OR 'renda mensal'"
      bullets:
        - "Ajuda a conectar objetivo com parâmetros e evolução (simulação)."
        - "Sem prometer resultado futuro."

  - intent_id: "institutional_calculator_financial_freedom"
    title: "Liberdade financeira"
    concept_ref: "calculator_financial_freedom"
    enrichment:
      enabled_when:
        - "user asks 'liberdade financeira' OR 'quando vou conseguir'"
      bullets:
        - "Mostra progresso e cenários simulados, sem garantia."
        - "A linguagem é de simulação, não de certeza."

  - intent_id: "institutional_my_area"
    title: "O que tem em Minha Área"
    concept_ref: "my_area"
    enrichment:
      enabled_when:
        - "user asks 'minha area' OR 'perfil' OR 'conta'"
      bullets:
        - "Minha Área: preferências, informações de conta e recursos pessoais habilitados."
        - "Funcionalidades podem evoluir conforme a plataforma."

  - intent_id: "institutional_notifications"
    title: "Notificações"
    concept_ref: "notifications"
    enrichment:
      enabled_when:
        - "user asks 'notificação' OR 'alerta' OR 'periodicidade'"
      bullets:
        - "Notificações podem ser configuradas por tipo e periodicidade."
        - "Objetivo: acompanhar eventos relevantes sem ruído."

fallback:
  intent_id: "institutional_fallback"
  concept_ref: "sirios_identity"
  note: "Usar quando o Planner marcou institutional mas não definiu intent específico."
