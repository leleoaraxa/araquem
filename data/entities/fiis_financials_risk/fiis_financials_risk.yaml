id: fiis_financials_risk
result_key: financials_risk
sql_view: fiis_financials_risk
private: false
bucket: A
description: Indicadores de risco do FII (volatilidade, Sharpe, Treynor, Jensen, beta, Sortino, Drawdown, R²), D-1.

options:
  supports_multi_ticker: true
  multi_ticker_mode: loop

identifiers:
  - name: ticker
    description: Ticker do FII normalizado (AAAA11)

columns:
  - name: ticker
    alias: Código FII
    description: Código do fundo na B3 (AAAA11).
  - name: volatility_ratio
    alias: Volatilidade
    description: Indicador de volatilidade relativa (VR).
  - name: sharpe_ratio
    alias: Sharpe
    description: Índice de Sharpe (SR).
  - name: treynor_ratio
    alias: Treynor
    description: Índice de Treynor (TR).
  - name: jensen_alpha
    alias: Alfa de Jensen
    description: Alfa de Jensen (α).
  - name: beta_index
    alias: Beta
    description: Beta do fundo (β).
  - name: sortino_ratio
    alias: Sortino
    description: Índice de Sortino (SoR).
  - name: max_drawdown
    alias: Drawdown Máximo
    description: Máxima queda pico→vale (MDD), em módulo (0.00–1.00).
  - name: r_squared
    alias: R²
    description: Coeficiente de determinação (0.00–1.00).
  - name: created_at
    alias: Criado em
    description: Data de criação.
  - name: updated_at
    alias: Atualizado em
    description: Data da última atualização.

ask:
  intents:
    - fiis_financials_risk
  requires_identifiers:
    - tickers
  keywords:
    - beta
    - beta do fundo
    - beta index
    - coeficiente de determinacao
    - mdd
    - max drawdown
    - queda maxima
    - r2
    - risco
    - risco anual
    - risco consolidado
    - risco do fii
    - risco do fundo
    - risco historico
    - risco mensal
    - risco vs retorno
    - risco 12m
    - risco 24m
    - risco 36m
    - sharpe
    - sharpe ratio
    - sortino
    - sortino ratio
    - volatilidade
    - alfa
    - desvio padrao
    - drawdown
    - jensen
    - performance ajustada
    - risco ajustado
    - treynor
  anti_tokens:
    - cnpj
    - dividendo
    - cotacao
    - cliente
    - d-1
    - dividendos
    - administrador
    - dy
    - hoje
    - minha carteira
    - noticia
    - noticias
    - overview
    - posicao
    - preco
    - provento
    - proventos
    - resumo
    - rendimento
    - setor
    - segmento
    - variacao
    - yield
    - cambio
    - dolar
    - inflacao
    - ipca
    - juros
    - selic
  phrase_includes:
    - "beta do"
    - "beta do fundo"
    - "max drawdown do"
    - "mdd do"
    - "risco do"
    - "risco do fii"
    - "risco do fundo"
    - "sharpe do"
    - "sortino do"
    - "volatilidade do"
    - "alpha de jensen"
    - "alfa de jensen"
    - "beta em relacao ao ifix"
    - "coeficiente de determinacao"
    - "indice de sharpe"
    - "indice de treynor"
    - "max drawdown"
    - "mdd"
    - "nivel de risco"
    - "o risco dele"
    - "r2"
    - "risco dele"
    - "risco desse fii"
    - "risco desse fundo"
    - "risco desse papel"
    - "risco hoje"
    - "sharpe ratio do"
    - "treynor do"
  synonyms:
    ticker: [ativo, fii, fundo, papel]
  metrics_synonyms:
    volatility_ratio:
      - volatilidade
      - vol
      - volatility
      - desvio padrao
    sharpe_ratio:
      - sharpe
      - indice de sharpe
      - sharpe ratio
    sortino_ratio:
      - sortino
      - indice de sortino
      - sortino ratio
    treynor_ratio:
      - treynor
      - indice de treynor
      - treynor ratio
    jensen_alpha:
      - alfa de jensen
      - alpha de jensen
      - jensen
      - jensen alpha
    beta_index:
      - beta
      - beta do fundo
      - beta index
    max_drawdown:
      - drawdown
      - max drawdown
      - mdd
      - drawdown maximo
      - queda maxima
    r_squared:
      - r2
      - r²
      - r squared
      - coeficiente de determinacao
  weights:
    identifiers: 2.0
    keywords: 1.0
    synonyms: 0.5
  sample_questions:
    - sharpe ratio do HGLG11 nos últimos 12 meses
    - qual o beta do MXRF11

order_by_whitelist:
  - updated_at desc

aggregations:
  enabled: true
  defaults:
    inference: true
    list:
      limit: 50
      order: desc

presentation:
  kind: table
  empty_message: "Nenhum registro encontrado."

responses:
  default:
    kind: table
    template: responses/table.md.j2
