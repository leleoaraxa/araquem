scripts/__init__.py | Inicializa o pacote de scripts. | Entradas/Saídas: não se aplica. | Dependências: nenhuma. | Periodicidade: contínuo. | Decisão: manter.
scripts/embeddings/__init__.py | Inicializa utilitários de embeddings. | Entradas/Saídas: não se aplica. | Dependências: nenhuma. | Periodicidade: contínuo. | Decisão: manter.
scripts/embeddings/rag_retrieval_eval.py | Avalia métricas de recuperação RAG e registra em /ops/metrics. | Entradas: dataset JSON de avaliação e índice de embeddings; Saídas: POST na API e JSON em data/ops/quality_experimental. | Dependências: requests, app.rag.*. | Periodicidade: sob demanda (auditoria de métricas). | Decisão: manter.
scripts/embeddings/embeddings_build.py | Regera manifestos e chunks de embeddings a partir de índice declarativo. | Entradas: YAML de índice e fonte de documentos; Saídas: embeddings.jsonl e manifest.json. | Dependências: yaml, app.rag.ollama_client. | Periodicidade: sob demanda (atualização de corpus). | Decisão: manter.
scripts/quality/__init__.py | Inicializa o pacote de qualidade. | Entradas/Saídas: não se aplica. | Dependências: nenhuma. | Periodicidade: contínuo. | Decisão: manter.
scripts/quality/quality_diff_routing.py | Compara roteamento atual com amostras golden e gera misses. | Entradas: data/ops/quality/routing_samples.json; Saídas: data/ops/quality_experimental/routing_misses_via_ask.json. | Dependências: httpx, API /ask. | Periodicidade: sob demanda (checagem de regressão). | Decisão: manter.
scripts/quality/quality_push_cron.sh | Orquestra ciclo horário de push/relatório de qualidade. | Entradas: variáveis de ambiente QUALITY_* e API /ops/quality; Saídas: execuções de scripts Python e logs. | Dependências: curl, jq, Python. | Periodicidade: agendado (cron). | Decisão: refatorar depois.
scripts/quality/quality_push.py | Envia payloads de qualidade para /ops/quality/push. | Entradas: arquivos JSON/YAML de amostras; Saídas: respostas da API. | Dependências: httpx, opcional pyyaml. | Periodicidade: sob demanda (manual/CI). | Decisão: manter.
scripts/quality/quality_push_cron.py | Vasculha payloads de qualidade e publica automaticamente na API. | Entradas: arquivos glob de data/ops/quality/*.json; Saídas: requisições HTTP e logs. | Dependências: urllib.request, json, ambiente QUALITY_*. | Periodicidade: agendado (cron). | Decisão: manter.
scripts/quality/gen_quality_dashboard.py | Gera dashboard Grafana com thresholds de qualidade. | Entradas: data/policies/quality.yaml ou planner_thresholds; Saídas: grafana/dashboards/quality_dashboard.json. | Dependências: yaml, json. | Periodicidade: sob demanda (mudança de thresholds). | Decisão: manter.
scripts/quality/quality_gate_check.sh | Valida contratos e status do relatório de qualidade. | Entradas: policies YAML e endpoint /ops/quality/report; Saídas: logs e códigos de saída. | Dependências: bash, python, curl, jq, yq opcional. | Periodicidade: pós-deploy/CI. | Decisão: manter.
scripts/quality/quality_eval_narrator.py | Renderiza respostas do Narrator a partir de payloads locais. | Entradas: JSON com executor_payload; Saídas: JSON formatado no stdout. | Dependências: app.narrator.narrator. | Periodicidade: sob demanda (debug). | Decisão: manter.
scripts/quality/quality_bisect.py | Bisseciona amostras de roteamento para isolar misses. | Entradas: data/ops/quality/routing_samples.json; Saídas: logs de misses encontrados. | Dependências: httpx, API /ops/quality/push. | Periodicidade: sob demanda (diagnóstico). | Decisão: manter.
scripts/maintenance/__init__.py | Inicializa o pacote de manutenção. | Entradas/Saídas: não se aplica. | Dependências: nenhuma. | Periodicidade: contínuo. | Decisão: manter.
scripts/core/__init__.py | Inicializa utilitários centrais. | Entradas/Saídas: não se aplica. | Dependências: nenhuma. | Periodicidade: contínuo. | Decisão: manter.
scripts/core/ask.py | CLI para chamar /ask com payload customizado. | Entradas: perguntas ou arquivos JSON; Saídas: resposta raw ou formatada no stdout. | Dependências: urllib.request, json. | Periodicidade: sob demanda (suporte/ops). | Decisão: manter.
scripts/core/golden_sync.py | Normaliza YAML de samples e gera JSON ordenado. | Entradas: YAML declarado; Saídas: JSON em data/ops/quality. | Dependências: yaml, json. | Periodicidade: sob demanda (sincronização de golden set). | Decisão: manter.
scripts/core/validate_data_contracts.py | Garante alinhamento entre m65_quality.yaml e m65_quality.json. | Entradas: data/golden/m65_quality.{yaml,json}; Saídas: logs de validação. | Dependências: yaml, json. | Periodicidade: sob demanda/CI. | Decisão: manter.
scripts/observability/__init__.py | Inicializa o pacote de observabilidade. | Entradas/Saídas: não se aplica. | Dependências: nenhuma. | Periodicidade: contínuo. | Decisão: manter.
scripts/observability/gen_dashboards.py | Renderiza dashboards Grafana a partir de templates Jinja/YAML. | Entradas: data/ops/observability.yaml e templates; Saídas: grafana/dashboards/*.json. | Dependências: yaml, opcional jinja2. | Periodicidade: sob demanda (atualização de observabilidade). | Decisão: manter.
scripts/observability/obs_audit.py | Audita consistência entre observability.yaml, dashboards e regras Prometheus. | Entradas: data/ops/observability.yaml, dashboards JSON, regras YAML; Saídas: logs e códigos de erro. | Dependências: yaml, json, re. | Periodicidade: sob demanda/CI. | Decisão: manter.
scripts/observability/hash_guard.py | Calcula hashes de referência para ontologia e golden sets. | Entradas: diretórios data/ontology e data/golden; Saídas: arquivos .hash JSON. | Dependências: hashlib, json. | Periodicidade: sob demanda (detecção de drift). | Decisão: manter.
scripts/observability/gen_alerts.py | Gera regras Prometheus (recording/alerting) a partir de observability.yaml. | Entradas: data/ops/observability.yaml; Saídas: prometheus/{recording,alerting}_rules.yml. | Dependências: yaml, opcional jinja2. | Periodicidade: sob demanda (atualização de alertas). | Decisão: manter.
scripts/_archive/warmup.ps1 | Script PowerShell para aquecer /ask com perguntas fixas de FIIs. | Entradas: lista fixa de perguntas; Saídas: métricas no console e CSV. | Dependências: PowerShell, endpoint /ask. | Periodicidade: eventual (debug manual). | Decisão: arquivar.
scripts/_archive/try_m3.py | Instancia orchestrator/planner para testar roteamento manual em linha de comando. | Entradas: pergunta fixa embutida; Saídas: JSON de roteamento no stdout. | Dependências: app.orchestrator, app.planner, app.executor.pg. | Periodicidade: eventual (experimentos locais). | Decisão: arquivar.
scripts/_archive/audit_repo.py | Inspeciona a árvore do repositório e gera relatório Markdown. | Entradas: árvore atual; Saídas: docs/reports/github_structure_audit.md. | Dependências: pathlib, re, yaml opcional. | Periodicidade: eventual (higiene). | Decisão: arquivar.
