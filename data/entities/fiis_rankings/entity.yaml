id: fiis_rankings
result_key: rankings_fii
sql_view: fiis_rankings
private: false
description: Rankings de FIIs (top/maiores/melhores/menores) por métricas como liquidez,
  dividend yield, patrimônio líquido, Sharpe, volatilidade, drawdown e presença em
  índices (usuários, Sírios, IFIX e IFIL).

options:
  supports_multi_ticker: true

identifiers:
- name: ticker
  description: Ticker do FII normalizado (AAAA11)
default_date_field: updated_at
columns:
- name: ticker
  alias: Código FII
  description: Código do fundo na B3 (AAAA11).
- name: users_rank_position
  alias: Ranking usuários
  description: Posição do FII no ranking de usuários (menor é melhor).
- name: users_rank_net_movement
  alias: Movimentos ranking usuários
  description: Movimentos (subidas/quedas) registrados em rankings de usuários.
- name: sirios_rank_position
  alias: Ranking Sírios
  description: Posição do FII no ranking Sírios (menor é melhor).
- name: sirios_rank_net_movement
  alias: Movimentos ranking Sírios
  description: Movimentos (subidas/quedas) registrados em rankings da SIRIOS.
- name: ifix_rank_position
  alias: Ranking IFIX
  description: Posição do FII em recortes de ranking do IFIX (menor é melhor).
- name: ifix_rank_net_movement
  alias: Movimentos ranking IFIX
  description: Movimentos de posição do FII em recortes de ranking do IFIX.
- name: ifil_rank_position
  alias: Ranking IFIL
  description: Posição do FII em recortes de ranking do IFIL (menor é melhor).
- name: ifil_rank_net_movement
  alias: Movimentos ranking IFIL
  description: Movimentos de posição do FII em recortes de ranking do IFIL.
- name: rank_dy_12m
  alias: Ranking DY 12m
  description: Posição do FII quando ordenado por dividend yield acumulado em 12 meses.
- name: rank_dy_monthly
  alias: Ranking DY mensal
  description: Posição do FII quando ordenado por dividend yield mensal.
- name: rank_dividends_12m
  alias: Ranking dividendos 12m
  description: Posição do FII quando ordenado pelo total de dividendos pagos em 12 meses.
- name: rank_market_cap
  alias: Ranking valor de mercado
  description: Posição do FII quando ordenado por valor de mercado.
- name: rank_equity
  alias: Ranking patrimônio líquido
  description: Posição do FII quando ordenado por patrimônio líquido.
- name: rank_sharpe
  alias: Ranking Sharpe
  description: Posição do FII quando ordenado pelo Sharpe ratio.
- name: rank_sortino
  alias: Ranking Sortino
  description: Posição do FII quando ordenado pelo Sortino ratio.
- name: rank_low_volatility
  alias: Ranking menor volatilidade
  description: Posição do FII quando ordenado por menor volatilidade histórica.
- name: rank_low_drawdown
  alias: Ranking menor drawdown
  description: Posição do FII quando ordenado por menor drawdown histórico.
- name: created_at
  alias: Criado em
  description: Data de criação do registro.
- name: updated_at
  alias: Atualizado em
  description: Data da última atualização do registro.
presentation:
  kind: table
  fields:
    key: ticker
    columns:
    - users_rank_position
    - sirios_rank_position
    - ifix_rank_position
    - ifil_rank_position
    - rank_dy_12m
    - rank_dy_monthly
    - rank_dividends_12m
    - rank_market_cap
    - rank_equity
    - rank_sharpe
    - rank_sortino
    - rank_low_volatility
    - rank_low_drawdown
  empty_message: Sem rankings disponíveis.
ask:
  intents:
    - fiis_rankings
  requires_identifiers:
    - ticker
  anti_keywords:
    - administrador
    - cnpj
    - cotacao
    - ipca
    - noticia
    - preco
    - processo
    - selic
  keywords:
    - carteira recomendada
    - classificacao
    - lista
    - maiores
    - melhores
    - menores
    - ordem
    - piores
    - posicao
    - posicoes
    - rank
    - ranking
    - sirios
    - top
    - usuarios
  phrase_includes:
    - melhores fiis no ranking
  synonyms:
    ticker:
      - ativo
      - fii
      - fundo
      - papel
    users_rank_position:
      - usuarios
      - ranking de usuarios
    users_rank_net_movement:
      - usuarios movimento
      - variacao usuarios
      - movimentos usuarios
    sirios_rank_position:
      - sirios ranking
      - ranking da sirios
    sirios_rank_net_movement:
      - sirios movimento
      - variacao sirios
      - movimentos sirios
    ifix_rank_position:
      - ifix ranking
    ifix_rank_net_movement:
      - ifix movimento
      - variacao ifix
      - movimentos ifix
    ifil_rank_position:
      - ifil ranking
    ifil_rank_net_movement:
      - ifil movimento
      - variacao ifil
      - movimentos ifil
    rank_dy_12m:
      - dy 12m
      - dividend yield 12 meses
      - rendimento 12 meses
      - dy ultimo ano
    rank_dy_monthly:
      - dy mensal
      - dividend yield mensal
      - rendimento mensal
    rank_dividends_12m:
      - dividendos 12 meses
      - proventos 12 meses
      - proventos acumulados
    rank_market_cap:
      - valor de mercado
      - market cap
    rank_sharpe:
      - sharpe
      - sharpe ratio
    rank_sortino:
      - sortino
      - sortino ratio
    rank_low_volatility:
      - menor volatilidade
      - baixa volatilidade
    rank_low_drawdown:
      - menor drawdown
      - mdd
      - drawdown
  weights:
    identifiers: 2.0
    keywords: 1.0
    synonyms: 0.5
  metrics_synonyms:
    users_rank_position:
      - ranking usuarios
      - ranking de usuarios
      - posicao no ranking de usuarios
    users_rank_net_movement:
      - movimentos ranking usuarios
      - movimentacao no ranking de usuarios
      - variacao no ranking de usuarios
    sirios_rank_position:
      - ranking sirios
      - ranking da sirios
      - posicao no ranking sirios
    sirios_rank_net_movement:
      - movimentos ranking sirios
      - movimentacao no ranking da sirios
      - variacao no ranking da sirios
    ifix_rank_position:
      - ranking ifix
      - posicao no ifix
    ifix_rank_net_movement:
      - movimentos ranking ifix
      - movimentacao no ranking ifix
      - variacao no ranking ifix
    ifil_rank_position:
      - ranking ifil
      - posicao no ifil
    ifil_rank_net_movement:
      - movimentos ranking ifil
      - movimentacao no ranking ifil
      - variacao no ranking ifil
    rank_dy_12m:
      - ranking dy 12m
      - ranking dividend yield 12m
      - ranking rendimento 12m
    rank_dy_monthly:
      - ranking dy mensal
      - ranking dividend yield mensal
      - ranking rendimento mensal
    rank_dividends_12m:
      - ranking dividendos 12m
      - ranking proventos 12m
    rank_market_cap:
      - ranking valor de mercado
      - ranking market cap
    rank_sharpe:
      - ranking sharpe
      - ranking sharpe ratio
    rank_sortino:
      - ranking sortino
      - ranking sortino ratio
    rank_low_volatility:
      - ranking menor volatilidade
      - ranking baixa volatilidade
    rank_low_drawdown:
      - ranking menor drawdown
      - ranking mdd
  sample_questions:
    - quais sao os top fiis no ranking de dy

responses:
  default:
    kind: table
    template: responses/table.md.j2
